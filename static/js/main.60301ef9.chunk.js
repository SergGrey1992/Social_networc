(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,s){e.exports={nav:"NavBar_nav__1hAbX",item:"NavBar_item__2UvI-",activeLink:"NavBar_activeLink__19op3"}},13:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__347uQ",dialogItems:"Dialogs_dialogItems__1RDve",active:"Dialogs_active__2z-Zc",messages:"Dialogs_messages__35xug",message:"Dialogs_message__fYzum",wrapperTextForm:"Dialogs_wrapperTextForm__3dgjv"}},21:function(e,t,s){e.exports={avatar:"SideFriend_avatar__2TA6Z",item:"SideFriend_item__39SG_",activeLink:"SideFriend_activeLink__1009I",figure:"SideFriend_figure__1B_EM"}},22:function(e,t,s){e.exports={avatar:"DescriptionBlock_avatar__1bqZU",wrapperDescription:"DescriptionBlock_wrapperDescription__2Su7C",description:"DescriptionBlock_description__T2DN7",styleH1:"DescriptionBlock_styleH1__2vJmT"}},24:function(e,t,s){e.exports={wrapperItemCard:"Post_wrapperItemCard__3FLMh",avatar:"Post_avatar__2Cp1Z",wrapperLike:"Post_wrapperLike__1TjyE",message:"Post_message__wUeLL"}},25:function(e,t,s){e.exports={wrapperHeader:"Header_wrapperHeader__tbckh",img:"Header_img__3jhlz",loginBlock:"Header_loginBlock__3zX9d",info:"Header_info__1_kWO"}},29:function(e,t,s){e.exports={nav:"Sidebar_nav__2gJWo",aside:"Sidebar_aside__31rpq",asideH:"Sidebar_asideH__2Tc_V",wrapperAside:"Sidebar_wrapperAside__3EI74"}},30:function(e,t,s){e.exports={wrapperItem:"MyPosts_wrapperItem__1Udun",postAdding:"MyPosts_postAdding__243xH",styleH3:"MyPosts_styleH3__38jLZ"}},36:function(e,t,s){e.exports={wrapperName:"DialogItem_wrapperName__jGLlq",activeLink:"DialogItem_activeLink__EE8_V"}},37:function(e,t,s){e.exports={stylePhoto:"Users_stylePhoto__35VCk",selectedPage:"Users_selectedPage__3kYFT"}},48:function(e,t,s){e.exports={wrapperProfile:"Profile_wrapperProfile__1cLOe"}},55:function(e,t,s){},56:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s.n(n),i=s(26),c=s.n(i),o=(s(55),s(56),s(12)),l=s.n(o),u=s(5),d=s(29),j=s.n(d),p=s(21),g=s.n(p),b=function(e){return Object(a.jsx)("aside",{className:g.a.side,children:Object(a.jsxs)("div",{className:g.a.figure,children:[Object(a.jsx)("img",{className:g.a.avatar,alt:"ava",src:e.avatar}),Object(a.jsx)("div",{className:g.a.item,children:Object(a.jsx)(u.b,{to:"/friend/"+e.id,activeClassName:g.a.activeLink,children:e.name})})]})})},m=s(6),h=Object(m.b)((function(e){return{sideState:e.sideBarReducer}}),{})((function(e){var t=e.sideState.asideState.asideFriends.map((function(e,t){return Object(a.jsx)(b,{id:e.id,name:e.name,avatar:e.avatar},t)}));return Object(a.jsxs)("aside",{className:j.a.aside,children:[Object(a.jsx)("div",{className:j.a.asideH,children:Object(a.jsx)("h3",{children:"Friends"})}),Object(a.jsx)("div",{className:j.a.wrapperAside,children:t})]})})),O=function(){return Object(a.jsxs)("nav",{className:l.a.nav,children:[Object(a.jsx)("div",{className:l.a.item,children:Object(a.jsx)(u.b,{to:"/profile",activeClassName:l.a.activeLink,children:"Profile"})}),Object(a.jsx)("div",{className:l.a.item,children:Object(a.jsx)(u.b,{to:"/dialogs",activeClassName:l.a.activeLink,children:"Messages"})}),Object(a.jsx)("div",{className:l.a.item,children:Object(a.jsx)(u.b,{to:"/news",children:"News"})}),Object(a.jsx)("div",{className:l.a.item,children:Object(a.jsx)(u.b,{to:"/music",children:"Music"})}),Object(a.jsx)("div",{className:l.a.item,children:Object(a.jsx)(u.b,{to:"/users",children:"Users"})}),Object(a.jsx)("div",{className:l.a.item,children:Object(a.jsx)(u.b,{to:"/settings",children:"Settings"})}),Object(a.jsx)(h,{})]})},f=s(4),v=s(17),_=s(2),x="CHANGE_MESSAGE_TEXT",w="ADD_MESSAGE",P={messages:[{id:1,message:"HI, brother!"},{id:2,message:"Wtf"},{id:3,message:"I love you"},{id:4,message:"Where is my money?"}],dialogs:[{id:1,name:"Dzimych"},{id:2,name:"Sveta"},{id:3,name:"Pasha"},{id:4,name:"Gleb"},{id:5,name:"Vika"}],newMessageText:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(v.a)(e.messages),[{id:5,message:e.newMessageText}]),newMessageText:""});case x:return Object(_.a)(Object(_.a)({},e),{},{newMessageText:t.newMessageText});default:return e}},k=s(36),C=s.n(k),T=function(e){return Object(a.jsx)("div",{className:C.a.wrapperName,children:Object(a.jsx)(u.b,{activeClassName:C.a.activeLink,to:"/dialogs/"+e.id,children:e.name})})},y=s(13),S=s.n(y),I=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:S.a.message,children:e.message})})},F=function(e){var t=e.messagesPage.dialogs.map((function(e){return Object(a.jsx)(T,{name:e.name,id:e.id},e.id)})),s=e.messagesPage.messages.map((function(e){return Object(a.jsx)(I,{message:e.message},e.id)}));return Object(a.jsxs)("div",{className:S.a.dialogs,children:[Object(a.jsx)("div",{className:S.a.dialogItems,children:t}),Object(a.jsxs)("div",{className:S.a.messages,children:[s,Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:S.a.wrapperTextForm,children:[Object(a.jsx)("textarea",{value:e.newMessageText,onChange:function(t){var s=t.currentTarget.value;e.changeMessageText(s)}}),Object(a.jsx)("button",{onClick:function(){e.addMessage()},children:"Add message"})]})})]})]})},D=Object(m.b)((function(e){return{messagesPage:e.dialogsReducer,newMessageText:e.dialogsReducer.newMessageText}}),(function(e){return{addMessage:function(){e({type:w})},changeMessageText:function(t){e({type:x,newMessageText:t})}}}))(F),A=s(15),L=s(16),E=s(19),U=s(18),M=s(28),R=s.n(M),H=R.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1eda0634-107a-4512-9684-9a0c57ff42df"}}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return H.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},z=function(e){return H.get("https://social-network.samuraijs.com/api/1.0/profile/"+e).then((function(e){return e.data}))},B="FOLLOW",V="UNFOLLOW",W="SET_USERS",q="SET_CURRENT_PAGE",J="SET_TOTAL_COUNT",X="TOGGELE_IS_FETCHING",Z="TOGGELE_IS_FOLLOWING_PROGRESS",Y=function(e){return{type:B,userID:e}},Q=function(e){return{type:V,userID:e}},K=function(e){return{type:X,isFetching:e}},$=function(e,t){return{type:Z,isFetching:e,userID:t}},ee={users:[],pageSize:20,totalUsersCount:20,currentPage:1,isFetching:!1,followingInProgress:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(_.a)(Object(_.a)({},e),{},{followed:!0}):e}))});case V:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(_.a)(Object(_.a)({},e),{},{followed:!1}):e}))});case W:return Object(_.a)(Object(_.a)({},e),{},{users:t.users});case q:return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPageNumber});case J:return Object(_.a)(Object(_.a)({},e),{},{totalUsersCount:t.totalCount});case X:return Object(_.a)(Object(_.a)({},e),{},{isFetching:t.isFetching});case Z:return Object(_.a)(Object(_.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}},se=s(37),ae=s.n(se),ne=s.p+"static/media/user_Photo.62a5ed40.jpg",re=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:s.map((function(t,s){return Object(a.jsx)("span",{className:e.currentPage===t?ae.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:t},s)}))}),e.users.map((function(t){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(u.b,{to:"/profile/"+t.id,children:Object(a.jsx)("img",{className:ae.a.stylePhoto,src:null!=t.photos.small?t.photos.small:ne,alt:"#"})})}),Object(a.jsx)("div",{children:t.followed?Object(a.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollowSuccess(t.id)},children:"UnFollow"}):Object(a.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.followSuccess(t.id)},children:"Follow"})})]}),Object(a.jsx)("span",{children:Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:t.name}),Object(a.jsx)("div",{children:t.status})]})})]},t.id)}))]})},ie=s.p+"static/media/preLoader.67b2533e.svg",ce=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:ie,alt:"#"})})},oe=function(e){Object(E.a)(s,e);var t=Object(U.a)(s);function s(){var e;Object(A.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(L.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[this.props.isFetching?Object(a.jsx)(ce,{}):null,Object(a.jsx)(re,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,followSuccess:this.props.followSuccess,unFollowSuccess:this.props.unFollowSuccess,followingInProgress:this.props.followingInProgress,toggleFollowingProgress:this.props.toggleFollowingProgress})]})}}]),s}(r.a.Component),le=Object(m.b)((function(e){return{users:e.usersReducer.users,pageSize:e.usersReducer.pageSize,totalUsersCount:e.usersReducer.totalUsersCount,currentPage:e.usersReducer.currentPage,isFetching:e.usersReducer.isFetching,followingInProgress:e.usersReducer.followingInProgress}}),{followSuccess:Y,unFollowSuccess:Q,setCurrentPage:function(e){return{type:q,currentPageNumber:e}},toggleFollowingProgress:$,getUsers:function(e,t){return function(s){s(K(!0)),G(e,t).then((function(e){var t,a;s(K(!1)),s((t=e.items,{type:W,users:t})),s((a=e.totalCount,{type:J,totalCount:a}))}))}}})(oe),ue=s(48),de=s.n(ue),je=s(22),pe=s.n(je),ge=function(e){return Object(a.jsxs)("div",{className:pe.a.wrapperDescription,children:[Object(a.jsx)("h1",{className:pe.a.styleH1,children:"----Profile----"}),Object(a.jsxs)("div",{children:[e.profile.map((function(e,t){return Object(a.jsxs)("div",{children:[e.fullName,Object(a.jsx)("div",{children:e.aboutMe}),Object(a.jsx)("div",{children:e.contacts.facebook}),Object(a.jsx)("div",{children:e.contacts.instagram}),Object(a.jsx)("img",{className:pe.a.avatar,src:null!=e.photos.small?e.photos.small:ne,alt:"#"})]},t)})),Object(a.jsx)("img",{className:pe.a.avatar,alt:"ava",src:"https://pm1.narvii.com/7171/f6f1c4463bbd9959052b699672858647f17660d3r1-264-250v2_00.jpg"})]}),Object(a.jsx)("div",{className:pe.a.description,children:"Description"})]})},be="ADD_POST",me="CHANGE_POST_TEXT",he="SET_USER_PROFILE",Oe=function(e){return{type:he,profile:e}},fe={posts:[{id:1,message:"My first post!",likesCount:41},{id:2,message:"Second post",likesCount:22},{id:3,message:"I live React",likesCount:31},{id:4,message:"Awesome!!!",likesCount:421}],newPostText:"",profile:[]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[{id:5,message:e.newPostText,likesCount:0}])});case me:return Object(_.a)(Object(_.a)({},e),{},{newPostText:t.newPostText});case he:return Object(_.a)(Object(_.a)({},e),{},{profile:[t.profile]});default:return e}},_e=s(30),xe=s.n(_e),we=s(24),Pe=s.n(we),Ne=function(e){return Object(a.jsxs)("div",{className:Pe.a.wrapperItemCard,children:[Object(a.jsx)("img",{className:Pe.a.avatar,alt:"ava",src:"https://pm1.narvii.com/7171/f6f1c4463bbd9959052b699672858647f17660d3r1-264-250v2_00.jpg"}),Object(a.jsx)("span",{className:Pe.a.message,children:e.message}),Object(a.jsx)("div",{className:Pe.a.wrapperLike,children:Object(a.jsxs)("span",{children:[e.likesCount," Like"]})})]})},ke=Object(m.b)((function(e){return{posts:e.profileReducer.posts,newPostText:e.profileReducer.newPostText}}),(function(e){return{addPostActionCreator:function(){e({type:be})},changePostText:function(t){e({type:me,newPostText:t})}}}))((function(e){var t=e.posts.map((function(e){return Object(a.jsx)(Ne,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(a.jsxs)("div",{className:xe.a.wrapperItem,children:[Object(a.jsx)("h3",{className:xe.a.styleH3,children:"----My posts----"}),Object(a.jsxs)("div",{className:xe.a.postAdding,children:[Object(a.jsx)("textarea",{value:e.newPostText,onChange:function(t){var s=t.currentTarget.value;e.changePostText(s)},placeholder:"\u041d\u0430\u043a\u0430\u0440\u044f\u0431\u0430\u0439 \u043f\u043e\u0441\u0442 =)"}),Object(a.jsx)("button",{onClick:e.addPostActionCreator,children:"Add post"})]}),t]})})),Ce=function(e){return Object(a.jsxs)("div",{className:de.a.wrapperProfile,children:[Object(a.jsx)(ge,{profile:e.profile}),Object(a.jsx)(ke,{})]})},Te=function(e){Object(E.a)(s,e);var t=Object(U.a)(s);function s(){return Object(A.a)(this,s),t.apply(this,arguments)}return Object(L.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="1"),this.props.getProfile(e)}},{key:"render",value:function(){return Object(a.jsx)(Ce,Object(_.a)(Object(_.a)({},this.props),{},{profile:this.props.profile,setUserProfile:Oe}))}}]),s}(r.a.Component),ye=Object(f.e)(Te),Se=Object(m.b)((function(e){return{profile:e.profileReducer.profile}}),{setUserProfile:Oe,getProfile:function(e){return function(t){z(e).then((function(e){t(Oe(e))}))}}})(ye),Ie=s(25),Fe=s.n(Ie),De=function(e){var t=e.login,s=e.isAuth;return Object(a.jsxs)("header",{className:Fe.a.wrapperHeader,children:[Object(a.jsx)("img",{className:Fe.a.img,alt:"logo",src:"https://i.pinimg.com/564x/81/cb/9c/81cb9cf335d5cbcf74d093ff869fe92e.jpg"}),Object(a.jsx)("div",{className:Fe.a.loginBlock,children:s?Object(a.jsx)("span",{className:Fe.a.info,children:t}):Object(a.jsx)(u.b,{to:"/login",children:"Login"})})]})},Ae="SET_USER_DATA",Le={userId:null,email:null,login:null,isAuth:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(_.a)(Object(_.a)(Object(_.a)({},e),t.data),{},{isAuth:!0});default:return e}},Ue=function(e){Object(E.a)(s,e);var t=Object(U.a)(s);function s(){return Object(A.a)(this,s),t.apply(this,arguments)}return Object(L.a)(s,[{key:"componentDidMount",value:function(){var e=this;R.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){if(0===t.data.resultCode){var s=t.data.data,a=s.userId,n=s.email,r=s.login;e.props.setUserData(a,n,r)}}))}},{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(De,Object(_.a)({},this.props))})}}]),s}(r.a.Component),Me=Object(f.e)(Ue),Re=Object(m.b)((function(e){return{login:e.auth.login,email:e.auth.email,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserData:function(e,t,s){return{type:Ae,data:{userId:e,email:t,login:s}}}})(Me),He=function(){return Object(a.jsxs)("div",{className:"app_wrapper",children:[Object(a.jsx)(Re,{}),Object(a.jsx)(O,{}),Object(a.jsxs)("div",{className:"app_wrapper_content",children:[Object(a.jsx)(f.a,{path:"/dialogs",render:function(){return Object(a.jsx)(D,{})}}),Object(a.jsx)(f.a,{path:"/profile/:userId?",render:function(){return Object(a.jsx)(Se,{})}}),Object(a.jsx)(f.a,{path:"/users",render:function(){return Object(a.jsx)(le,{})}})]})]})},Ge=s(20),ze={asideState:{asideFriends:[{id:1,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT6Ghz_3vVX362NspWGVByszfbkVlJ77tisTQ&usqp=CAU",name:"Pavel"},{id:2,avatar:"https://klike.net/uploads/posts/2019-03/1551511801_1.jpg",name:"Vika"},{id:3,avatar:"https://tiktok-wiki.ru/wp-content/uploads/2020/05/avatarki-dlya-tik-toka1.jpg",name:"Alex"}]}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return Object(_.a)({},e)},Ve=s(49),We=Object(Ge.c)({dialogsReducer:N,profileReducer:ve,sideBarReducer:Be,usersReducer:te,auth:Ee}),qe=Object(Ge.d)(We,Object(Ge.a)(Ve.a));c.a.render(Object(a.jsx)(u.a,{children:Object(a.jsx)(m.a,{store:qe,children:Object(a.jsx)(He,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.60301ef9.chunk.js.map