(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,s){e.exports={nav:"NavBar_nav__1hAbX",item:"NavBar_item__2UvI-",activeLink:"NavBar_activeLink__19op3"}},13:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__347uQ",dialogItems:"Dialogs_dialogItems__1RDve",active:"Dialogs_active__2z-Zc",messages:"Dialogs_messages__35xug",message:"Dialogs_message__fYzum",wrapperTextForm:"Dialogs_wrapperTextForm__3dgjv"}},17:function(e,t,s){e.exports={avatar:"SideFriend_avatar__2TA6Z",item:"SideFriend_item__39SG_",activeLink:"SideFriend_activeLink__1009I",figure:"SideFriend_figure__1B_EM"}},19:function(e,t,s){e.exports={avatar:"DescriptionBlock_avatar__1bqZU",wrapperDescription:"DescriptionBlock_wrapperDescription__2Su7C",description:"DescriptionBlock_description__T2DN7",styleH1:"DescriptionBlock_styleH1__2vJmT"}},20:function(e,t,s){e.exports={wrapperItemCard:"Post_wrapperItemCard__3FLMh",avatar:"Post_avatar__2Cp1Z",wrapperLike:"Post_wrapperLike__1TjyE",message:"Post_message__wUeLL"}},28:function(e,t,s){e.exports={nav:"Sidebar_nav__2gJWo",aside:"Sidebar_aside__31rpq",asideH:"Sidebar_asideH__2Tc_V",wrapperAside:"Sidebar_wrapperAside__3EI74"}},29:function(e,t,s){e.exports={wrapperItem:"MyPosts_wrapperItem__1Udun",postAdding:"MyPosts_postAdding__243xH",styleH3:"MyPosts_styleH3__38jLZ"}},35:function(e,t,s){e.exports={wrapperName:"DialogItem_wrapperName__jGLlq",activeLink:"DialogItem_activeLink__EE8_V"}},36:function(e,t,s){e.exports={stylePhoto:"Users_stylePhoto__35VCk",selectedPage:"Users_selectedPage__3kYFT"}},47:function(e,t,s){e.exports={wrapperProfile:"Profile_wrapperProfile__1cLOe"}},54:function(e,t,s){},55:function(e,t,s){},56:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(1),n=s.n(r),i=s(21),c=s.n(i),o=(s(54),s(55),s(56),function(){return Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("img",{alt:"logo",src:"https://i.pinimg.com/564x/81/cb/9c/81cb9cf335d5cbcf74d093ff869fe92e.jpg"})})}),l=s(12),d=s.n(l),u=s(5),j=s(28),p=s.n(j),g=s(17),b=s.n(g),m=function(e){return Object(a.jsx)("aside",{className:b.a.side,children:Object(a.jsxs)("div",{className:b.a.figure,children:[Object(a.jsx)("img",{className:b.a.avatar,alt:"ava",src:e.avatar}),Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(u.b,{to:"/friend/"+e.id,activeClassName:b.a.activeLink,children:e.name})})]})})},h=s(10),O=Object(h.b)((function(e){return{sideState:e.sideBarReducer}}),{})((function(e){var t=e.sideState.asideState.asideFriends.map((function(e){return Object(a.jsx)(m,{id:e.id,name:e.name,avatar:e.avatar})}));return Object(a.jsxs)("aside",{className:p.a.aside,children:[Object(a.jsx)("div",{className:p.a.asideH,children:Object(a.jsx)("h3",{children:"Friends"})}),Object(a.jsx)("div",{className:p.a.wrapperAside,children:t})]})})),f=function(){return Object(a.jsxs)("nav",{className:d.a.nav,children:[Object(a.jsx)("div",{className:d.a.item,children:Object(a.jsx)(u.b,{to:"/profile",activeClassName:d.a.activeLink,children:"Profile"})}),Object(a.jsx)("div",{className:d.a.item,children:Object(a.jsx)(u.b,{to:"/dialogs",activeClassName:d.a.activeLink,children:"Messages"})}),Object(a.jsx)("div",{className:d.a.item,children:Object(a.jsx)(u.b,{to:"/news",children:"News"})}),Object(a.jsx)("div",{className:d.a.item,children:Object(a.jsx)(u.b,{to:"/music",children:"Music"})}),Object(a.jsx)("div",{className:d.a.item,children:Object(a.jsx)(u.b,{to:"/users",children:"Users"})}),Object(a.jsx)("div",{className:d.a.item,children:Object(a.jsx)(u.b,{to:"/settings",children:"Settings"})}),Object(a.jsx)(O,{})]})},x=s(4),v=s(15),_=s(2),w="CHANGE_MESSAGE_TEXT",P="ADD_MESSAGE",N={messages:[{id:1,message:"HI, brother!"},{id:2,message:"Wtf"},{id:3,message:"I love you"},{id:4,message:"Where is my money?"}],dialogs:[{id:1,name:"Dzimych"},{id:2,name:"Sveta"},{id:3,name:"Pasha"},{id:4,name:"Gleb"},{id:5,name:"Vika"}],newMessageText:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(v.a)(e.messages),[{id:5,message:e.newMessageText}]),newMessageText:""});case w:return Object(_.a)(Object(_.a)({},e),{},{newMessageText:t.newMessageText});default:return e}},C=s(35),T=s.n(C),S=function(e){return Object(a.jsx)("div",{className:T.a.wrapperName,children:Object(a.jsx)(u.b,{activeClassName:T.a.activeLink,to:"/dialogs/"+e.id,children:e.name})})},y=s(13),I=s.n(y),F=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:I.a.message,children:e.message})})},D=function(e){var t=e.messagesPage.dialogs.map((function(e){return Object(a.jsx)(S,{name:e.name,id:e.id},e.id)})),s=e.messagesPage.messages.map((function(e){return Object(a.jsx)(F,{message:e.message},e.id)}));return Object(a.jsxs)("div",{className:I.a.dialogs,children:[Object(a.jsx)("div",{className:I.a.dialogItems,children:t}),Object(a.jsxs)("div",{className:I.a.messages,children:[s,Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:I.a.wrapperTextForm,children:[Object(a.jsx)("textarea",{value:e.newMessageText,onChange:function(t){var s=t.currentTarget.value;e.changeMessageText(s)}}),Object(a.jsx)("button",{onClick:function(){e.addMessage()},children:"Add message"})]})})]})]})},L=Object(h.b)((function(e){return{messagesPage:e.dialogsReducer,newMessageText:e.dialogsReducer.newMessageText}}),(function(e){return{addMessage:function(){e({type:P})},changeMessageText:function(t){e({type:w,newMessageText:t})}}}))(D),E=s(23),M=s(24),U=s(27),A=s(26),R=s(25),G=s.n(R),H=G.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1eda0634-107a-4512-9684-9a0c57ff42df"}}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return H.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},B="FOLLOW",V="UNFOLLOW",W="SET_USERS",q="SET_CURRENT_PAGE",J="SET_TOTAL_COUNT",Z="TOGGELE_IS_FETCHING",X="TOGGELE_IS_FOLLOWING_PROGRESS",Y=function(e){return{type:B,userID:e}},Q=function(e){return{type:V,userID:e}},K=function(e){return{type:Z,isFetching:e}},$=function(e,t){return{type:X,isFetching:e,userID:t}},ee={users:[],pageSize:20,totalUsersCount:20,currentPage:1,isFetching:!1,followingInProgress:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(_.a)(Object(_.a)({},e),{},{followed:!0}):e}))});case V:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(_.a)(Object(_.a)({},e),{},{followed:!1}):e}))});case W:return Object(_.a)(Object(_.a)({},e),{},{users:t.users});case q:return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPageNumber});case J:return Object(_.a)(Object(_.a)({},e),{},{totalUsersCount:t.totalCount});case Z:return Object(_.a)(Object(_.a)({},e),{},{isFetching:t.isFetching});case X:return Object(_.a)(Object(_.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}},se=s(36),ae=s.n(se),re=s.p+"static/media/user_Photo.62a5ed40.jpg",ne=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],r=1;r<=t;r++)s.push(r);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:s.map((function(t){return Object(a.jsx)("span",{className:e.currentPage===t?ae.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(u.b,{to:"/profile/"+t.id,children:Object(a.jsx)("img",{className:ae.a.stylePhoto,src:null!=t.photos.small?t.photos.small:re,alt:"#"})})}),Object(a.jsx)("div",{children:t.followed?Object(a.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollowSuccess(t.id)},children:"UnFollow"}):Object(a.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.followSuccess(t.id)},children:"Follow"})})]}),Object(a.jsx)("span",{children:Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:t.name}),Object(a.jsx)("div",{children:t.status})]})})]},t.id)}))]})},ie=s.p+"static/media/preLoader.67b2533e.svg",ce=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:ie,alt:"#"})})},oe=function(e){Object(U.a)(s,e);var t=Object(A.a)(s);function s(){var e;Object(E.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(M.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[this.props.isFetching?Object(a.jsx)(ce,{}):null,Object(a.jsx)(ne,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,followSuccess:this.props.followSuccess,unFollowSuccess:this.props.unFollowSuccess,followingInProgress:this.props.followingInProgress,toggleFollowingProgress:this.props.toggleFollowingProgress})]})}}]),s}(n.a.Component),le=Object(h.b)((function(e){return{users:e.usersReducer.users,pageSize:e.usersReducer.pageSize,totalUsersCount:e.usersReducer.totalUsersCount,currentPage:e.usersReducer.currentPage,isFetching:e.usersReducer.isFetching,followingInProgress:e.usersReducer.followingInProgress}}),{followSuccess:Y,unFollowSuccess:Q,setCurrentPage:function(e){return{type:q,currentPageNumber:e}},toggleFollowingProgress:$,getUsers:function(e,t){return function(s){s(K(!0)),z(e,t).then((function(e){var t,a;s(K(!1)),s((t=e.items,{type:W,users:t})),s((a=e.totalCount,{type:J,totalCount:a}))}))}}})(oe),de=s(47),ue=s.n(de),je=s(19),pe=s.n(je),ge=function(e){return Object(a.jsxs)("div",{className:pe.a.wrapperDescription,children:[Object(a.jsx)("h1",{className:pe.a.styleH1,children:"----Profile----"}),Object(a.jsxs)("div",{children:[e.profile.map((function(e){return Object(a.jsxs)("div",{children:[e.fullName,Object(a.jsx)("div",{children:e.aboutMe}),Object(a.jsx)("div",{children:e.contacts.facebook}),Object(a.jsx)("div",{children:e.contacts.instagram}),Object(a.jsx)("img",{src:null!=e.photos.small?e.photos.small:re,alt:"#"})]})})),Object(a.jsx)("img",{className:pe.a.avatar,alt:"ava",src:"https://pm1.narvii.com/7171/f6f1c4463bbd9959052b699672858647f17660d3r1-264-250v2_00.jpg"})]}),Object(a.jsx)("div",{className:pe.a.description,children:"Description"})]})},be="ADD_POST",me="CHANGE_POST_TEXT",he="SET_USER_PROFILE",Oe=function(e){return{type:he,profile:e}},fe={posts:[{id:1,message:"My first post!",likesCount:41},{id:2,message:"Second post",likesCount:22},{id:3,message:"I live React",likesCount:31},{id:4,message:"Awesome!!!",likesCount:421}],newPostText:"",profile:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[{id:5,message:e.newPostText,likesCount:0}])});case me:return Object(_.a)(Object(_.a)({},e),{},{newPostText:t.newPostText});case he:return Object(_.a)(Object(_.a)({},e),{},{profile:[t.profile]});default:return e}},ve=s(29),_e=s.n(ve),we=s(20),Pe=s.n(we),Ne=function(e){return Object(a.jsxs)("div",{className:Pe.a.wrapperItemCard,children:[Object(a.jsx)("img",{className:Pe.a.avatar,alt:"ava",src:"https://pm1.narvii.com/7171/f6f1c4463bbd9959052b699672858647f17660d3r1-264-250v2_00.jpg"}),Object(a.jsx)("span",{className:Pe.a.message,children:e.message}),Object(a.jsx)("div",{className:Pe.a.wrapperLike,children:Object(a.jsxs)("span",{children:[e.likesCount," Like"]})})]})},ke=Object(h.b)((function(e){return{posts:e.profileReducer.posts,newPostText:e.profileReducer.newPostText}}),(function(e){return{addPostActionCreator:function(){e({type:be})},changePostText:function(t){e({type:me,newPostText:t})}}}))((function(e){var t=e.posts.map((function(e){return Object(a.jsx)(Ne,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(a.jsxs)("div",{className:_e.a.wrapperItem,children:[Object(a.jsx)("h3",{className:_e.a.styleH3,children:"----My posts----"}),Object(a.jsxs)("div",{className:_e.a.postAdding,children:[Object(a.jsx)("textarea",{value:e.newPostText,onChange:function(t){var s=t.currentTarget.value;e.changePostText(s)},placeholder:"\u041d\u0430\u043a\u0430\u0440\u044f\u0431\u0430\u0439 \u043f\u043e\u0441\u0442 =)"}),Object(a.jsx)("button",{onClick:e.addPostActionCreator,children:"Add post"})]}),t]})})),Ce=function(e){return Object(a.jsxs)("div",{className:ue.a.wrapperProfile,children:[Object(a.jsx)(ge,{profile:e.profile}),Object(a.jsx)(ke,{})]})},Te=function(e){Object(U.a)(s,e);var t=Object(A.a)(s);function s(){return Object(E.a)(this,s),t.apply(this,arguments)}return Object(M.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t="1"),G.a.get("https://social-network.samuraijs.com/api/1.0/profile/"+t).then((function(t){e.props.setUserProfile(t.data),console.log(t)}))}},{key:"render",value:function(){return Object(a.jsx)(Ce,Object(_.a)(Object(_.a)({},this.props),{},{profile:this.props.profile,setUserProfile:Oe}))}}]),s}(n.a.Component),Se=Object(x.e)(Te),ye=Object(h.b)((function(e){return{profile:e.profileReducer.profile}}),{setUserProfile:Oe})(Se),Ie=function(){return Object(a.jsxs)("div",{className:"app_wrapper",children:[Object(a.jsx)(o,{}),Object(a.jsx)(f,{}),Object(a.jsxs)("div",{className:"app_wrapper_content",children:[Object(a.jsx)(x.a,{path:"/dialogs",render:function(){return Object(a.jsx)(L,{})}}),Object(a.jsx)(x.a,{path:"/profile/:userId?",render:function(){return Object(a.jsx)(ye,{})}}),Object(a.jsx)(x.a,{path:"/users",render:function(){return Object(a.jsx)(le,{})}})]})]})},Fe=s(16),De={asideState:{asideFriends:[{id:1,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT6Ghz_3vVX362NspWGVByszfbkVlJ77tisTQ&usqp=CAU",name:"Pavel"},{id:2,avatar:"https://klike.net/uploads/posts/2019-03/1551511801_1.jpg",name:"Vika"},{id:3,avatar:"https://tiktok-wiki.ru/wp-content/uploads/2020/05/avatarki-dlya-tik-toka1.jpg",name:"Alex"}]}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;return Object(_.a)({},e)},Ee=s(48),Me=Object(Fe.c)({dialogsReducer:k,profileReducer:xe,sideBarReducer:Le,usersReducer:te}),Ue=Object(Fe.d)(Me,Object(Fe.a)(Ee.a));c.a.render(Object(a.jsx)(u.a,{children:Object(a.jsx)(h.a,{store:Ue,children:Object(a.jsx)(Ie,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.bd55ad27.chunk.js.map