(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var n=r(46),a=r(2),s=function(e){return{type:o,formData:e}},c=function(e){return{type:i,newMessageText:e}},i="CHANGE_MESSAGE_TEXT",o="ADD_MESSAGE",u={messages:[{id:1,message:"HI, brother!"},{id:2,message:"Wtf"},{id:3,message:"I love you"},{id:4,message:"Where is my money?"}],dialogs:[{id:1,name:"Dzimych"},{id:2,name:"Sveta"},{id:3,name:"Pasha"},{id:4,name:"Gleb"},{id:5,name:"Vika"}],newMessageText:""};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(n.a)(e.messages),[{id:5,message:t.formData}]),newMessageText:""});case i:return Object(a.a)(Object(a.a)({},e),{},{newMessageText:t.newMessageText});default:return e}}},103:function(e,t,r){"use strict";t.a=r.p+"static/media/user_Photo.62a5ed40.jpg"},132:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(2),a=r(29),s=r(30),c=r(32),i=r(31),o=r(0),u=r(1),d=r.n(u),l=r(11);function j(e){return function(t){Object(c.a)(u,t);var r=Object(i.a)(u);function u(){return Object(a.a)(this,u),r.apply(this,arguments)}return Object(s.a)(u,[{key:"render",value:function(){return this.props.auth?Object(o.jsx)(e,Object(n.a)({},this.props)):Object(o.jsx)(l.a,{to:"/login"})}}]),u}(d.a.Component)}},135:function(e,t,r){"use strict";r.d(t,"d",(function(){return x})),r.d(t,"e",(function(){return g})),r.d(t,"c",(function(){return _})),r.d(t,"b",(function(){return S})),r.d(t,"f",(function(){return y}));var n=r(46),a=r(2),s=r(10),c=r.n(s),i=r(18),o=r(16),u=function(e,t,r,n){return e.map((function(e){return e[r]===t?Object(a.a)(Object(a.a)({},e),n):e}))},d="FOLLOW",l="UNFOLLOW",j="SET_USERS",b="SET_CURRENT_PAGE",p="SET_TOTAL_COUNT",f="TOGGELE_IS_FETCHING",O="TOGGELE_IS_FOLLOWING_PROGRESS",h=function(e){return{type:d,userID:e}},m=function(e){return{type:l,userID:e}},x=function(e){return{type:b,currentPageNumber:e}},v=function(e){return{type:f,isFetching:e}},g=function(e,t){return{type:O,isFetching:e,userID:t}},_=function(e,t){return function(){var r=Object(i.a)(c.a.mark((function r(n){var a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(v(!0)),n(x(e)),r.next=4,o.c.getUsers(e,t);case 4:a=r.sent,n(v(!1)),n((c=a.items,{type:j,users:c})),n((s=a.totalCount,{type:p,totalCount:s}));case 8:case"end":return r.stop()}var s,c}),r)})));return function(e){return r.apply(this,arguments)}}()},w=function(){var e=Object(i.a)(c.a.mark((function e(t,r,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g(!0,r)),e.next=3,n(r);case 3:0===e.sent.resultCode&&t(a(r)),t(g(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(r){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.c.followedUser.bind(o.c),a=h,t.next=4,w(r,e,n,a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(r,e,o.c.unFollowedUser.bind(o.c),m);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k={users:[],pageSize:20,totalUsersCount:20,currentPage:1,portionSize:10,isFetching:!1,followingInProgress:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(a.a)(Object(a.a)({},e),{},{users:u(e.users,t.userID,"id",{followed:!0})});case l:return Object(a.a)(Object(a.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(a.a)(Object(a.a)({},e),{},{followed:!1}):e}))});case j:return Object(a.a)(Object(a.a)({},e),{},{users:t.users});case b:return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.currentPageNumber});case p:return Object(a.a)(Object(a.a)({},e),{},{totalUsersCount:t.totalCount});case f:return Object(a.a)(Object(a.a)({},e),{},{isFetching:t.isFetching});case O:return Object(a.a)(Object(a.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(n.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}}},137:function(e,t,r){e.exports={wrapperProfile:"Profile_wrapperProfile__1cLOe"}},14:function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return j}));var n=r(2),a=r(39),s=r(0),c=(r(1),r(98)),i=r.n(c),o=r(94),u=function(e){var t=e.meta,r=t.touched,n=t.error,a=e.children,c=r&&n;return Object(s.jsxs)("div",{className:i.a.formControl+" "+(c?i.a.error:""),children:[Object(s.jsx)("div",{children:a}),c&&Object(s.jsx)("span",{children:n})]})},d=function(e){var t=e.input,r=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return Object(s.jsx)(u,Object(n.a)(Object(n.a)({},e),{},{children:Object(s.jsx)("textarea",Object(n.a)(Object(n.a)({},t),r))}))},l=function(e){var t=e.input,r=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return Object(s.jsx)(u,Object(n.a)(Object(n.a)({},e),{},{children:Object(s.jsx)("input",Object(n.a)(Object(n.a)({},t),r))}))},j=function(e,t,r,a,c,i,u){return Object(s.jsxs)("div",{children:[Object(s.jsx)(o.a,Object(n.a)({type:e,placeholder:t,name:r,component:a,validate:c},i)),u]})}},16:function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return i}));var n=r(139),a=r.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1eda0634-107a-4512-9684-9a0c57ff42df"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unFollowedUser:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))},followedUser:function(e){return a.post("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return i.getProfile(e)}},c={me:function(){return a.get("auth/me")},login:function(e){return a.post("/auth/login",e)},logOut:function(){return a.delete("/auth/login")}},i={getProfile:function(e){return a.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}}},171:function(e,t,r){},172:function(e,t,r){},26:function(e,t,r){e.exports={nav:"NavBar_nav__1hAbX",item:"NavBar_item__2UvI-",activeLink:"NavBar_activeLink__19op3"}},292:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),s=r.n(a),c=r(69),i=r.n(c),o=(r(171),r(29)),u=r(30),d=r(32),l=r(31),j=(r(172),r(26)),b=r.n(j),p=r(13),f=r(74),O=r.n(f),h=r(47),m=r.n(h),x=function(e){return Object(n.jsx)("aside",{className:m.a.side,children:Object(n.jsxs)("div",{className:m.a.figure,children:[Object(n.jsx)("img",{className:m.a.avatar,alt:"ava",src:e.avatar}),Object(n.jsx)("div",{className:m.a.item,children:Object(n.jsx)(p.b,{to:"/friend/"+e.id,activeClassName:m.a.activeLink,children:e.name})})]})})},v=r(12),g=Object(v.b)((function(e){return{sideState:e.sideBarReducer}}),{})((function(e){var t=e.sideState.asideState.asideFriends.map((function(e,t){return Object(n.jsx)(x,{id:e.id,name:e.name,avatar:e.avatar},t)}));return Object(n.jsxs)("aside",{className:O.a.aside,children:[Object(n.jsx)("div",{className:O.a.asideH,children:Object(n.jsx)("h3",{children:"Friends"})}),Object(n.jsx)("div",{className:O.a.wrapperAside,children:t})]})})),_=function(){return Object(n.jsxs)("nav",{className:b.a.nav,children:[Object(n.jsx)("div",{className:b.a.item,children:Object(n.jsx)(p.b,{to:"/profile",activeClassName:b.a.activeLink,children:"Profile"})}),Object(n.jsx)("div",{className:b.a.item,children:Object(n.jsx)(p.b,{to:"/dialogs",activeClassName:b.a.activeLink,children:"Messages"})}),Object(n.jsx)("div",{className:b.a.item,children:Object(n.jsx)(p.b,{to:"/news",children:"News"})}),Object(n.jsx)("div",{className:b.a.item,children:Object(n.jsx)(p.b,{to:"/music",children:"Music"})}),Object(n.jsx)("div",{className:b.a.item,children:Object(n.jsx)(p.b,{to:"/users",children:"Users"})}),Object(n.jsx)("div",{className:b.a.item,children:Object(n.jsx)(p.b,{to:"/settings",children:"Settings"})}),Object(n.jsx)(g,{})]})},w=r(11),S=r(2),y=r(137),k=r.n(y),P=r(53),C=r(58),N=r.n(C),T=r(103),E=function(e){var t=e.status,r=e.updateStatus,s=Object(a.useState)(!1),c=Object(P.a)(s,2),i=c[0],o=c[1],u=Object(a.useState)(t),d=Object(P.a)(u,2),l=d[0],j=d[1];Object(a.useEffect)((function(){j(t)}),[t]);return Object(n.jsxs)(n.Fragment,{children:[!i&&Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"Status: "}),Object(n.jsx)("span",{onDoubleClick:function(){o(!i)},children:""===t?"\u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441":t})]}),i&&Object(n.jsx)("div",{children:Object(n.jsx)("input",{value:l,autoFocus:!0,onChange:function(e){j(e.currentTarget.value)},onBlur:function(){o(!i),r(l)}})})]})},A=r(71),I=r(14),M=r(133),L=Object(M.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsx)("div",{children:Object(n.jsx)("button",{children:"Save"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"Full name"}),": ",Object(I.c)("text","FullName","fullName",I.a)]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"Looking for a job"}),": ",Object(I.c)("checkbox","lookingForAJob","lookingForAJob",I.a)]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"My professional skills"}),": ",Object(I.c)("textarea","lookingForAJobDescription","lookingForAJobDescription",I.b)]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"About me"}),":",Object(I.c)("text","aboutMe","aboutMe",I.a)]})]})})),D=function(e){var t=e.profile,r=e.status,s=e.updateStatus,c=e.isOwner,i=e.savePhoto,o=Object(a.useState)(!1),u=Object(P.a)(o,2),d=u[0],l=u[1];if(!Object.keys(t).length)return Object(n.jsx)(A.a,{});return Object(n.jsxs)("div",{className:N.a.wrapperDescription,children:[Object(n.jsx)("h1",{className:N.a.styleH1,children:"----Profile----"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:N.a.avatar,src:null!==t.photos.small?t.photos.small:T.a,alt:"#"}),c&&Object(n.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}}),d?Object(n.jsx)(L,{onSubmit:function(){}}):Object(n.jsx)(U,{profile:t,isOwner:c,toEditMode:function(){l(!0)}})]}),Object(n.jsxs)("div",{className:N.a.description,children:[Object(n.jsx)(E,{status:r,updateStatus:s}),"Description"]})]})},F=function(e){var t=e.contactTitle,r=e.contactValue;return Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:t}),": ",r]})},U=function(e){var t=e.profile,r=e.isOwner,a=e.toEditMode;return Object(n.jsxs)("div",{children:[r&&Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:a,children:"edit"})}),Object(n.jsx)("div",{children:t.fullName}),Object(n.jsxs)("div",{children:["Looking for a job: ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"About me"}),":",t.aboutMe]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"Contacts"}),":",Object.keys(t.contacts).map((function(e){return Object(n.jsx)(F,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},R=r(46),H=r(10),G=r.n(H),z=r(18),B=r(16),J="/redux/profile-reducer/ADD_POST",V="/redux/profile-reducer/DELETE_POST",W="/redux/profile-reducer/CHANGE_POST_TEXT",X="/redux/profile-reducer/SET_USER_PROFILE",q="/redux/profile-reducer/SET_STATUS",Z="/redux/profile-reducer/UPDATE_STATUS",Q="/redux/profile-reducer/SAVE_PHOTO_SUCCESS",K=function(e){return{type:J,formData:e}},Y=function(e){return{type:q,status:e}},$={posts:[{id:1,message:"My first post!",likesCount:41},{id:2,message:"Second post",likesCount:22},{id:3,message:"I live React",likesCount:31},{id:4,message:"Awesome!!!",likesCount:421}],newPostText:"",profile:{},status:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(S.a)(Object(S.a)({},e),{},{posts:[].concat(Object(R.a)(e.posts),[{id:5,message:t.formData,likesCount:0}])});case V:return Object(S.a)(Object(S.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case W:return Object(S.a)(Object(S.a)({},e),{},{newPostText:t.newPostText});case X:return Object(S.a)(Object(S.a)({},e),{},{profile:t.profile});case q:case Z:return Object(S.a)(Object(S.a)({},e),{},{status:t.status});case Q:return Object(S.a)(Object(S.a)({},e),{},{profile:Object(S.a)(Object(S.a)({},e.profile),{},{photos:t.photos})});default:return e}},te=r(76),re=r.n(te),ne=r(59),ae=r.n(ne),se=function(e){return Object(n.jsxs)("div",{className:ae.a.wrapperItemCard,children:[Object(n.jsx)("img",{className:ae.a.avatar,alt:"ava",src:"https://pm1.narvii.com/7171/f6f1c4463bbd9959052b699672858647f17660d3r1-264-250v2_00.jpg"}),Object(n.jsx)("span",{className:ae.a.message,children:e.message}),Object(n.jsx)("div",{className:ae.a.wrapperLike,children:Object(n.jsxs)("span",{children:[e.likesCount," Like"]})})]})},ce=r(39),ie=r(94),oe=r(45),ue=Object(oe.a)(10),de=Object(M.a)({form:"message"})((function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsx)(ie.a,{type:"text",name:"postMessage",component:I.b,placeholder:"Post message",validate:[oe.b,ue]}),Object(n.jsx)("button",{children:"Add post"})]})})),le=Object(v.b)((function(e){return{posts:e.profileReducer.posts,newPostText:e.profileReducer.newPostText}}),{addPost:K})((function(e){var t=e.addPost,r=Object(ce.a)(e,["addPost"]);return Object(n.jsx)("div",{children:Object(n.jsx)(de,Object(S.a)({onSubmit:function(e){t(e.postMessage)}},r))})})),je=s.a.memo((function(e){console.log("MyPosts");var t=e.posts.map((function(e){return Object(n.jsx)(se,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(n.jsxs)("div",{className:re.a.wrapperItem,children:[Object(n.jsx)("h3",{className:re.a.styleH3,children:"----My posts----"}),Object(n.jsx)("div",{className:re.a.postAdding,children:Object(n.jsx)(le,{})}),t]})})),be=Object(v.b)((function(e){return{posts:e.profileReducer.posts,newPostText:e.profileReducer.newPostText}}),{changePostText:function(e){return{type:W,newPostText:e}},addPost:K})(je),pe=function(e){var t=e.profile,r=e.status,a=e.updateStatus,s=e.isOwner,c=e.savePhoto;return Object(n.jsxs)("div",{className:k.a.wrapperProfile,children:[Object(n.jsx)(D,{profile:t,status:r,updateStatus:a,isOwner:s,savePhoto:c}),Object(n.jsx)(be,{})]})},fe=r(132),Oe=r(9),he=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(n.jsx)(pe,Object(S.a)(Object(S.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),r}(s.a.Component),me=Object(Oe.d)(Object(v.b)((function(e){return{profile:e.profileReducer.profile,auth:e.auth.isAuth,status:e.profileReducer.status,authorizedUserId:e.auth.userId}}),{getProfile:function(e){return function(){var t=Object(z.a)(G.a.mark((function t(r){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.c.getProfile(e);case 2:n=t.sent,r({type:X,profile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(z.a)(G.a.mark((function t(r){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.b.getStatus(e);case 2:n=t.sent,r(Y(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(z.a)(G.a.mark((function t(r){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&r(Y(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(z.a)(G.a.mark((function t(r){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.b.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&r((a=n.data.data.photos,{type:Q,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()}}),w.f,fe.a)(he),xe=r(60),ve=r.n(xe),ge=function(e){var t=e.login,r=e.isAuth,a=e.logOutMe;return Object(n.jsxs)("header",{className:ve.a.wrapperHeader,children:[Object(n.jsx)("img",{className:ve.a.img,alt:"logo",src:"https://i.pinimg.com/564x/81/cb/9c/81cb9cf335d5cbcf74d093ff869fe92e.jpg"}),Object(n.jsxs)("div",{className:ve.a.loginBlock,children:[r?Object(n.jsx)("span",{className:ve.a.info,children:t}):Object(n.jsx)(p.b,{to:"/login",children:"Login"}),Object(n.jsx)("button",{onClick:a,children:"Log out"})]})]})},_e=r(37),we="/redux/auth_reducer/SET_USER_DATA",Se="/redux/auth_reducer/LOGIN_ME",ye="/redux/auth_reducer/LOG_OUT",ke="/redux/auth_reducer/ERROR_MESSAGE_REDUCER",Pe=function(e,t,r){return{type:we,data:{userId:e,email:t,login:r}}},Ce=function(e){return{type:ke,messError:e}},Ne=function(){return function(){var e=Object(z.a)(G.a.mark((function e(t){var r,n,a,s,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.me();case 2:0===(r=e.sent).data.resultCode&&(n=r.data.data,a=n.id,s=n.email,c=n.login,t(Pe(a,s,c)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Te={userId:null,email:null,login:null,isAuth:!1,errorMessages:"",isError:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(S.a)(Object(S.a)(Object(S.a)({},e),t.data),{},{isAuth:!0});case ye:return Object(S.a)(Object(S.a)({},e),{},{isAuth:!1});case Se:return Object(S.a)(Object(S.a)({},e),{},{isAuth:!0});case ke:return Object(S.a)(Object(S.a)({},e),{},{isError:!0,errorMessages:t.messError});default:return e}},Ae=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ge,Object(S.a)({},this.props))})}}]),r}(s.a.Component),Ie=Object(w.f)(Ae),Me=Object(v.b)((function(e){return{login:e.auth.login,email:e.auth.email,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserData:Pe,logOutMe:function(){return function(){var e=Object(z.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.logOut();case 2:0===e.sent.data.resultCode&&t({type:ye});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ie),Le=Object(M.a)({form:"login"})((function(e){var t=e.handleSubmit;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(I.c)("text","email","email",I.a,[oe.b]),Object(I.c)("text","Password","password",I.a,[oe.b]),Object(I.c)("checkbox",null,"rememberMe",I.a,null,{},"remember me"),Object(n.jsx)("div",{children:Object(n.jsx)("button",{children:"Login"})})]})})),De=Object(v.b)((function(e){return{auth:e.auth.isAuth,errorBool:e.auth.isError,errorMessages:e.auth.errorMessages}}),{getLoginMe:function(e){return function(){var t=Object(z.a)(G.a.mark((function t(r){var n,a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.login(e);case 2:1===(n=t.sent).data.resultCode&&(a=n.data.messages[0],r(Ce(a)),r(Object(_e.a)("login",{_error:"Common error"}))),0===n.data.resultCode&&r(Ne());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getLoginMe,r=Object(ce.a)(e,["getLoginMe"]);return r.auth?Object(n.jsx)(w.a,{to:"/profile"}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsx)(Le,Object(S.a)({onSubmit:function(e){t(e)}},r)),r.errorBool?Object(n.jsxs)("div",{children:[r.errorMessages,"123"]}):" "]})})),Fe="INITIALIZED_SUCCESS",Ue={intialized:!1},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(S.a)(Object(S.a)({},e),{},{intialized:!0});default:return e}},He=s.a.lazy((function(){return r.e(3).then(r.bind(null,297))})),Ge=s.a.lazy((function(){return r.e(4).then(r.bind(null,298))})),ze=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.intialized?Object(n.jsxs)("div",{className:"app_wrapper",children:[Object(n.jsx)(Me,{}),Object(n.jsx)(_,{}),Object(n.jsxs)("div",{className:"app_wrapper_content",children:[Object(n.jsx)(w.b,{path:"/login",render:function(){return Object(n.jsx)(De,{})}}),Object(n.jsx)(w.b,{path:"/dialogs",render:function(){return Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(n.jsx)(He,{})})}}),Object(n.jsx)(w.b,{path:"/profile/:userId?",render:function(){return Object(n.jsx)(me,{})}}),Object(n.jsx)(w.b,{path:"/users",render:function(){return Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(n.jsx)(Ge,{})})}})]})]}):Object(n.jsx)(A.a,{})}}]),r}(s.a.Component),Be=Object(Oe.d)(w.f,Object(v.b)((function(e){return{intialized:e.app.intialized}}),{initializeApp:function(){return function(e){var t=e(Ne());Promise.all([t]).then((function(){e({type:Fe})}))}}}))(ze),Je=r(101),Ve={asideState:{asideFriends:[{id:1,avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT6Ghz_3vVX362NspWGVByszfbkVlJ77tisTQ&usqp=CAU",name:"Pavel"},{id:2,avatar:"https://klike.net/uploads/posts/2019-03/1551511801_1.jpg",name:"Vika"},{id:3,avatar:"https://tiktok-wiki.ru/wp-content/uploads/2020/05/avatarki-dlya-tik-toka1.jpg",name:"Alex"}]}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return Object(S.a)({},e)},Xe=r(135),qe=r(140),Ze=r(134),Qe=Object(Oe.c)({dialogsReducer:Je.c,profileReducer:ee,sideBarReducer:We,usersReducer:Xe.a,auth:Ee,form:Ze.a,app:Re}),Ke=Object(Oe.e)(Qe,Object(Oe.a)(qe.a));window.store=Ke,i.a.render(Object(n.jsx)(p.a,{children:Object(n.jsx)(v.a,{store:Ke,children:Object(n.jsx)(Be,{})})}),document.getElementById("root"))},45:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max value length is ".concat(e," symbols")}}},47:function(e,t,r){e.exports={avatar:"SideFriend_avatar__2TA6Z",item:"SideFriend_item__39SG_",activeLink:"SideFriend_activeLink__1009I",figure:"SideFriend_figure__1B_EM"}},58:function(e,t,r){e.exports={avatar:"DescriptionBlock_avatar__1bqZU",wrapperDescription:"DescriptionBlock_wrapperDescription__2Su7C",description:"DescriptionBlock_description__T2DN7",styleH1:"DescriptionBlock_styleH1__2vJmT"}},59:function(e,t,r){e.exports={wrapperItemCard:"Post_wrapperItemCard__3FLMh",avatar:"Post_avatar__2Cp1Z",wrapperLike:"Post_wrapperLike__1TjyE",message:"Post_message__wUeLL"}},60:function(e,t,r){e.exports={wrapperHeader:"Header_wrapperHeader__tbckh",img:"Header_img__3jhlz",loginBlock:"Header_loginBlock__3zX9d",info:"Header_info__1_kWO"}},71:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),a=(r(1),r.p+"static/media/preLoader.bb36d2ce.svg"),s=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:a,alt:"#"})})}},74:function(e,t,r){e.exports={nav:"Sidebar_nav__2gJWo",aside:"Sidebar_aside__31rpq",asideH:"Sidebar_asideH__2Tc_V",wrapperAside:"Sidebar_wrapperAside__3EI74"}},76:function(e,t,r){e.exports={wrapperItem:"MyPosts_wrapperItem__1Udun",postAdding:"MyPosts_postAdding__243xH",styleH3:"MyPosts_styleH3__38jLZ"}},98:function(e,t,r){e.exports={formControl:"FormsControls_formControl__2z5Xp",error:"FormsControls_error__Qu3vm"}}},[[292,1,2]]]);
//# sourceMappingURL=main.332571d4.chunk.js.map